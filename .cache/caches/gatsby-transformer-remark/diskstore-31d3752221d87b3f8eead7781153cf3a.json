{"expireTime":9007200819066983000,"key":"transformer-remark-markdown-ast-ac829bed3e164b94f9c50d08e90b2b44-gatsby-remark-relative-imagesgatsby-remark-prismjsgatsby-remark-copy-linked-filesgatsby-remark-images-","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"text","value":" One of my favourite and exciting topic was how can i implement file uploading in my website. I used to watch youtube videos where they do it with ","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":148,"offset":148},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">PHP</code>","position":{"start":{"line":2,"column":148,"offset":148},"end":{"line":2,"column":153,"offset":153},"indent":[]}},{"type":"text","value":". But they all just don't workout for me. Thank god there's ","position":{"start":{"line":2,"column":153,"offset":153},"end":{"line":2,"column":213,"offset":213},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">File API</code>","position":{"start":{"line":2,"column":213,"offset":213},"end":{"line":2,"column":223,"offset":223},"indent":[]}},{"type":"text","value":" which  allows javascript to access information about file like ","position":{"start":{"line":2,"column":223,"offset":223},"end":{"line":2,"column":287,"offset":287},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">Name</code>","position":{"start":{"line":2,"column":287,"offset":287},"end":{"line":2,"column":293,"offset":293},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":2,"column":293,"offset":293},"end":{"line":2,"column":295,"offset":295},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">Last modified</code>","position":{"start":{"line":2,"column":295,"offset":295},"end":{"line":2,"column":310,"offset":310},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":2,"column":310,"offset":310},"end":{"line":2,"column":312,"offset":312},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">Type</code>","position":{"start":{"line":2,"column":312,"offset":312},"end":{"line":2,"column":318,"offset":318},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":2,"column":318,"offset":318},"end":{"line":2,"column":320,"offset":320},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">Size</code>","position":{"start":{"line":2,"column":320,"offset":320},"end":{"line":2,"column":326,"offset":326},"indent":[]}},{"type":"text","value":", ","position":{"start":{"line":2,"column":326,"offset":326},"end":{"line":2,"column":328,"offset":328},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">webkitRelativePath</code>","position":{"start":{"line":2,"column":328,"offset":328},"end":{"line":2,"column":348,"offset":348},"indent":[]}},{"type":"text","value":". Let's dive deeper on how to use it.","position":{"start":{"line":2,"column":348,"offset":348},"end":{"line":2,"column":385,"offset":385},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":385,"offset":385},"indent":[]}},{"type":"html","lang":"HTML","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!--  to get file as input --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></code></pre></div>","position":{"start":{"line":4,"column":1,"offset":388},"end":{"line":8,"column":5,"offset":454},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":" Initial input value would be zero and as the user selects file it changes.","position":{"start":{"line":9,"column":1,"offset":455},"end":{"line":9,"column":76,"offset":530},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":455},"end":{"line":9,"column":76,"offset":530},"indent":[]}},{"type":"html","lang":"js","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">//  selecting element</span>\n<span class=\"token keyword\">const</span> el <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">'input[type=file]'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//  fire an event handler when the input value changes</span>\n   el<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">'change'</span><span class=\"token punctuation\">,</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n   <span class=\"token keyword\">const</span> fileList <span class=\"token operator\">=</span> el<span class=\"token punctuation\">.</span>files<span class=\"token punctuation\">;</span> <span class=\"token comment\">/* now you can work with the file list */</span>    \n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":10,"column":1,"offset":531},"end":{"line":17,"column":5,"offset":798},"indent":[1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":" Each file object provides three useful information about file.","position":{"start":{"line":18,"column":1,"offset":799},"end":{"line":18,"column":64,"offset":862},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":799},"end":{"line":18,"column":64,"offset":862},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">Name</code>","position":{"start":{"line":19,"column":4,"offset":866},"end":{"line":19,"column":10,"offset":872},"indent":[]}},{"type":"text","value":" : The file's name as a read-only string. This is just the file name, and does not include any path information. ","position":{"start":{"line":19,"column":10,"offset":872},"end":{"line":19,"column":123,"offset":985},"indent":[]}}],"position":{"start":{"line":19,"column":4,"offset":866},"end":{"line":19,"column":123,"offset":985},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":863},"end":{"line":19,"column":123,"offset":985},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">Size</code>","position":{"start":{"line":20,"column":4,"offset":989},"end":{"line":20,"column":10,"offset":995},"indent":[]}},{"type":"text","value":" : The size of the file in bytes as a read-only 64-bit integer.","position":{"start":{"line":20,"column":10,"offset":995},"end":{"line":20,"column":73,"offset":1058},"indent":[]}}],"position":{"start":{"line":20,"column":4,"offset":989},"end":{"line":20,"column":73,"offset":1058},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":986},"end":{"line":20,"column":73,"offset":1058},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"html","value":"<code class=\"language-text\">Type</code>","position":{"start":{"line":21,"column":4,"offset":1062},"end":{"line":21,"column":10,"offset":1068},"indent":[]}},{"type":"text","value":" : The MIME type of the file as a read-only string or ","position":{"start":{"line":21,"column":10,"offset":1068},"end":{"line":21,"column":64,"offset":1122},"indent":[]}},{"type":"html","value":"<code class=\"language-text\">&quot;&quot;</code>","position":{"start":{"line":21,"column":64,"offset":1122},"end":{"line":21,"column":68,"offset":1126},"indent":[]}},{"type":"text","value":" if the type couldn't be determined.","position":{"start":{"line":21,"column":68,"offset":1126},"end":{"line":21,"column":104,"offset":1162},"indent":[]}}],"position":{"start":{"line":21,"column":4,"offset":1062},"end":{"line":21,"column":104,"offset":1162},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":1059},"end":{"line":21,"column":104,"offset":1162},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":863},"end":{"line":21,"column":104,"offset":1162},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Until Now we have got the filelist selected by user. let's do some operations on this.","position":{"start":{"line":23,"column":1,"offset":1164},"end":{"line":23,"column":87,"offset":1250},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":1164},"end":{"line":23,"column":87,"offset":1250},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Getting Information about selected files","position":{"start":{"line":24,"column":6,"offset":1256},"end":{"line":24,"column":46,"offset":1296},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1251},"end":{"line":24,"column":46,"offset":1296},"indent":[]}},{"type":"thematicBreak","position":{"start":{"line":25,"column":1,"offset":1297},"end":{"line":25,"column":5,"offset":1301},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":" Let's say we want an image less than 5MB. To allow multiplle files we can  add multiple attribute to input tag.","position":{"start":{"line":26,"column":1,"offset":1302},"end":{"line":26,"column":113,"offset":1414},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1302},"end":{"line":26,"column":113,"offset":1414},"indent":[]}},{"type":"html","lang":"HTML","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>file<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">multiple</span><span class=\"token punctuation\">></span></span></code></pre></div>","position":{"start":{"line":27,"column":1,"offset":1415},"end":{"line":29,"column":5,"offset":1458},"indent":[1,1]}},{"type":"paragraph","children":[{"type":"text","value":" It will give us all object in filelist object.","position":{"start":{"line":30,"column":1,"offset":1459},"end":{"line":30,"column":48,"offset":1506},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":1459},"end":{"line":30,"column":48,"offset":1506},"indent":[]}},{"type":"html","lang":"js","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// using foreach loop to iterate through all object</span>\n<span class=\"token comment\">// 5 Mb have 5*1024 byte</span>\nfileList<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">file</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=></span><span class=\"token punctuation\">{</span>\n   <span class=\"token comment\">// taking each file as file variable</span>\n<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">.</span>size <span class=\"token operator\">&lt;=</span> <span class=\"token number\">5</span><span class=\"token operator\">*</span><span class=\"token number\">1024</span> <span class=\"token operator\">&amp;&amp;</span> file<span class=\"token punctuation\">.</span>type <span class=\"token operator\">==</span> <span class=\"token string\">\"image/jpeg\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n   <span class=\"token comment\">// do something</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">{</span>\n   <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"File size Excedded\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":31,"column":1,"offset":1507},"end":{"line":43,"column":5,"offset":1782},"indent":[1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Above I have used ES6 classes. If You are not comfortable with that. Don't worry. I have simplified it further.","position":{"start":{"line":44,"column":1,"offset":1783},"end":{"line":44,"column":112,"offset":1894},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":1783},"end":{"line":44,"column":112,"offset":1894},"indent":[]}},{"type":"html","lang":"js","meta":null,"value":"<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">fileList<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">file</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// referring each file as file variable</span>\n<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">.</span>size <span class=\"token operator\">&lt;=</span> <span class=\"token number\">5</span><span class=\"token operator\">*</span><span class=\"token number\">1024</span> <span class=\"token operator\">&amp;&amp;</span> file<span class=\"token punctuation\">.</span>type<span class=\"token operator\">=</span><span class=\"token string\">\"image/jpeg\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// do something</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">{</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"File size excedded.\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>","position":{"start":{"line":45,"column":1,"offset":1895},"end":{"line":55,"column":4,"offset":2098},"indent":[1,1,1,1,1,1,1,1,1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":59,"column":1,"offset":2102}}}}